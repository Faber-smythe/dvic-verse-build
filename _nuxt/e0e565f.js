(window.webpackJsonp=window.webpackJsonp||[]).push([[7],Array(224).concat([function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=new(n(0).a)},,,function(e,t,n){"use strict";var r=n(5),o=n(43),c=n(22),l=n(15),h=n(10),d=n(2),f=n(283),m=n(129),v=n(284),S=n(285),w=n(67),y=n(286),j=[],x=j.sort,I=d((function(){j.sort(void 0)})),P=d((function(){j.sort(null)})),O=m("sort"),C=!d((function(){if(w)return w<70;if(!(v&&v>3)){if(S)return!0;if(y)return y<603;var code,e,t,n,r="";for(code=65;code<76;code++){switch(e=String.fromCharCode(code),code){case 66:case 69:case 70:case 72:t=3;break;case 68:case 71:t=4;break;default:t=2}for(n=0;n<47;n++)j.push({k:e+n,v:t})}for(j.sort((function(a,b){return b.v-a.v})),n=0;n<j.length;n++)e=j[n].k.charAt(0),r.charAt(r.length-1)!==e&&(r+=e);return"DGBEFHACIJK"!==r}}));r({target:"Array",proto:!0,forced:I||!P||!O||!C},{sort:function(e){void 0!==e&&o(e);var t=c(this);if(C)return void 0===e?x.call(t):x.call(t,e);var n,r,d=[],m=l(t.length);for(r=0;r<m;r++)r in t&&d.push(t[r]);for(d=f(d,function(e){return function(t,n){return void 0===n?-1:void 0===t?1:void 0!==e?+e(t,n)||0:h(t)>h(n)?1:-1}}(e)),n=d.length,r=0;r<n;)t[r]=d[r++];for(;r<m;)delete t[r++];return t}})},,function(e,t,n){var map={"./01_ascenseur.jpg":295,"./02_entree.jpg":296,"./03 clement.jpg":297,"./04 couloir sport.jpg":298,"./05 porte studio.jpg":299,"./06 studio.jpg":300,"./07 porte bio tech lab.jpg":301,"./08 entree bio tech lab.jpg":302,"./09 bio tech lab.jpg":303,"./10 lounge staff.jpg":304,"./11 porte 4d space.jpg":305,"./12-1 4D space Gershon.jpg":306,"./13-1 softlab.jpg":307,"./13-2 atelier couture.jpg":308,"./15 entree classe DVIC.jpg":309,"./16 thesard.jpg":310,"./17-2 entree living lab.jpg":311,"./18-1 living labDVIC.jpg":312,"./19 sortie DVIC_.jpg":313,"./20 escalier 5eme etage.jpg":314,"./21 LC de face.jpg":315,"./22 entree expo LC.jpg":316,"./23_cokpit_fablab.jpg":317,"./24_entree fab lab.jpg":318,"./25_imprimante 3D.jpg":319,"./26_centre fab lab_.jpg":320,"./27_robot inmoov.jpg":321,"./28_zone drone.jpg":322,"./29 zone drone_2.jpg":323,"./30 zone ordi.jpg":324,"./31 LC droite escalier.jpg":325,"./32 entree creative space.jpg":326,"./33 creative space.jpg":327,"./lowres/01_ascenseur.jpg":230,"./lowres/02_entree.jpg":231,"./lowres/03 clement.jpg":232,"./lowres/04 couloir sport.jpg":233,"./lowres/05 porte studio.jpg":234,"./lowres/06 studio.jpg":235,"./lowres/07 porte bio tech lab.jpg":236,"./lowres/08 entree bio tech lab.jpg":237,"./lowres/09 bio tech lab.jpg":238,"./lowres/10 lounge staff.jpg":239,"./lowres/11 porte 4d space.jpg":240,"./lowres/12-1 4D space Gershon.jpg":241,"./lowres/13-1 softlab.jpg":242,"./lowres/13-2 atelier couture.jpg":243,"./lowres/15 entree classe DVIC.jpg":244,"./lowres/16 thesard.jpg":245,"./lowres/17-2 entree living lab.jpg":246,"./lowres/18-1 living labDVIC.jpg":247,"./lowres/19 sortie DVIC_.jpg":248,"./lowres/20 escalier 5eme etage.jpg":249,"./lowres/21 LC de face.jpg":250,"./lowres/22 entree expo LC.jpg":251,"./lowres/23_cokpit_fablab.jpg":252,"./lowres/24_entree fab lab.jpg":253,"./lowres/25_imprimante 3D.jpg":254,"./lowres/26_centre fab lab_.jpg":255,"./lowres/27_robot inmoov.jpg":256,"./lowres/28_zone drone.jpg":257,"./lowres/29 zone drone_2.jpg":258,"./lowres/30 zone ordi.jpg":259,"./lowres/31 LC droite escalier.jpg":260,"./lowres/32 entree creative space.jpg":261,"./lowres/33 creative space.jpg":262};function r(e){var t=o(e);return n(t)}function o(e){if(!n.o(map,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return map[e]}r.keys=function(){return Object.keys(map)},r.resolve=o,e.exports=r,r.id=229},function(e,t,n){e.exports=n.p+"img/01_ascenseur.0e7c2cb.jpg"},function(e,t,n){e.exports=n.p+"img/02_entree.6728f14.jpg"},function(e,t,n){e.exports=n.p+"img/03 clement.321f81a.jpg"},function(e,t,n){e.exports=n.p+"img/04 couloir sport.107fffa.jpg"},function(e,t,n){e.exports=n.p+"img/05 porte studio.19839ec.jpg"},function(e,t,n){e.exports=n.p+"img/06 studio.4a77761.jpg"},function(e,t,n){e.exports=n.p+"img/07 porte bio tech lab.c1eba7b.jpg"},function(e,t,n){e.exports=n.p+"img/08 entree bio tech lab.bb8ac8b.jpg"},function(e,t,n){e.exports=n.p+"img/09 bio tech lab.fda59b2.jpg"},function(e,t,n){e.exports=n.p+"img/10 lounge staff.e4bcf67.jpg"},function(e,t,n){e.exports=n.p+"img/11 porte 4d space.b03f5c3.jpg"},function(e,t,n){e.exports=n.p+"img/12-1 4D space Gershon.40efb4e.jpg"},function(e,t,n){e.exports=n.p+"img/13-1 softlab.d173dd8.jpg"},function(e,t,n){e.exports=n.p+"img/13-2 atelier couture.9dad436.jpg"},function(e,t,n){e.exports=n.p+"img/15 entree classe DVIC.cd015eb.jpg"},function(e,t,n){e.exports=n.p+"img/16 thesard.59a0de3.jpg"},function(e,t,n){e.exports=n.p+"img/17-2 entree living lab.f4cc93e.jpg"},function(e,t,n){e.exports=n.p+"img/18-1 living labDVIC.d713a29.jpg"},function(e,t,n){e.exports=n.p+"img/19 sortie DVIC_.d714238.jpg"},function(e,t,n){e.exports=n.p+"img/20 escalier 5eme etage.035d827.jpg"},function(e,t,n){e.exports=n.p+"img/21 LC de face.f93016d.jpg"},function(e,t,n){e.exports=n.p+"img/22 entree expo LC.d57f951.jpg"},function(e,t,n){e.exports=n.p+"img/23_cokpit_fablab.27cb6df.jpg"},function(e,t,n){e.exports=n.p+"img/24_entree fab lab.ee895ca.jpg"},function(e,t,n){e.exports=n.p+"img/25_imprimante 3D.c3708e2.jpg"},function(e,t,n){e.exports=n.p+"img/26_centre fab lab_.f355113.jpg"},function(e,t,n){e.exports=n.p+"img/27_robot inmoov.32cc282.jpg"},function(e,t,n){e.exports=n.p+"img/28_zone drone.e3439b6.jpg"},function(e,t,n){e.exports=n.p+"img/29 zone drone_2.818e17e.jpg"},function(e,t,n){e.exports=n.p+"img/30 zone ordi.0509366.jpg"},function(e,t,n){e.exports=n.p+"img/31 LC droite escalier.45393c1.jpg"},function(e,t,n){e.exports=n.p+"img/32 entree creative space.89935c3.jpg"},function(e,t,n){e.exports=n.p+"img/33 creative space.dd82616.jpg"},function(e){e.exports=JSON.parse('{"texture":"03 clement.jpg","sceneAzimuth":-1.570647179669562,"arrows":[{"arrowAzimuth":2.1856558940853996,"targetScene":"classroom-entrance"},{"arrowAzimuth":-3.0352618030564034,"targetScene":"hallway"},{"arrowAzimuth":0.20386929801947873,"targetScene":"atrium-downstairs"}],"POI":[{"caption":"Welcome panel","type":"panel","panelContent":{"title":"Welcome !","description":["\\n          \\n          The De Vinci Innovation Center is the trans-disciplinary and innovative hub of the Pôle Léonard de Vinci. \\n        \\n        ","\\n          \\n          Our methods are based on radical learning, anti-disciplinarity and must-know fundamentals like tellingstory.\\n        "]},"position":{"x":-2013.2963644363201,"y":345.2664236510212,"z":90.06950158632078},"enabled":true},{"caption":"Qstarter: Graph-it","type":"iframe","targetUrl":"https://dvic.devinci.fr/quickstarter/graph-it","position":{"x":-1612.672060962957,"y":-339.928217582155,"z":1213.1606754961254},"enabled":true},{"caption":"Qstarter: Eclipse","type":"iframe","targetUrl":"https://dvic.devinci.fr/projects/eclipse","position":{"x":-1246.4453054885278,"y":-469.4267946412451,"z":1550.4551560707494},"enabled":true},{"caption":"Project : Skin Interface","type":"iframe","targetUrl":"https://dvic.devinci.fr/research/humanlike-skin","position":{"x":-125.33599573256384,"y":-648.9446031365608,"z":1934.3678355510262},"enabled":true},{"caption":"Project : Second Self","type":"iframe","targetUrl":"https://dvic.devinci.fr/projects/augmented-mirror","position":{"x":-844.666976074172,"y":81.59184996242259,"z":1859.2907618600395},"enabled":true},{"caption":"Staff: Clment Duhart","type":"iframe","targetUrl":"https://dvic.devinci.fr/member/clement-duhart","position":{"x":1446.3145753345962,"y":472.8566374168428,"z":1365.5656988384173},"enabled":true}]}')},function(e){e.exports=JSON.parse('{"texture":"20 escalier 5eme etage.jpg","sceneAzimuth":3.145414579130224,"arrows":[{"arrowAzimuth":-1.9328369764783928,"targetScene":"atrium"},{"arrowAzimuth":-3.1109111222802133,"targetScene":"atrium-downstairs"}],"POI":[]}')},function(e){e.exports=JSON.parse('{"texture":"19 sortie DVIC_.jpg","sceneAzimuth":-1.7284957464240123,"arrows":[{"arrowAzimuth":1.4905066701068599,"targetScene":"phd-desks"},{"arrowAzimuth":-0.9496183982052123,"targetScene":"atrium"}],"POI":[]}')},function(e){e.exports=JSON.parse('{"texture":"01_ascenseur.jpg","sceneAzimuth":0,"arrows":[{"arrowAzimuth":0.016854305320856522,"targetScene":"hallway"}],"POI":[]}')},function(e){e.exports=JSON.parse('{"texture":"17-2 entree living lab.jpg","sceneAzimuth":9.346169356022232,"arrows":[{"arrowAzimuth":-0.4633616755057801,"targetScene":"phd-desks"},{"arrowAzimuth":-2.9191400298144394,"targetScene":"living-lab"}],"POI":[{"caption":"Staff: Marc Teyssier","type":"iframe","targetUrl":"https://dvic.devinci.fr/member/marc-teyssier","position":{"x":1867.1467168787362,"y":79.80133141077602,"z":-827.079658600394},"enabled":true},{"caption":"Thomas Juldo","type":"tab","targetUrl":"https://www.linkedin.com/in/thomas-juldo-879669195/","position":{"x":1020.680732029529,"y":95.29672351704154,"z":-1768.2076476284649},"enabled":true},{"caption":"Dimitri Vinet","type":"tab","targetUrl":"https://fr.linkedin.com/in/dimitri-vinet","position":{"x":269.9865938195649,"y":32.79888001771963,"z":-2026.4321817393607},"enabled":true},{"caption":"How to: Chocolate Pearls","type":"iframe","targetUrl":"https://dvic.devinci.fr/tutorial/how-to-make-chocolate-pearls","position":{"x":-1182.9269755558669,"y":-876.7386361504298,"z":1418.846176409865},"enabled":true}]}')},function(e){e.exports=JSON.parse('{"texture":"02_entree.jpg","sceneAzimuth":0.02362216322918423,"arrows":[{"arrowAzimuth":3.1393878008198888,"targetScene":"elevators"},{"arrowAzimuth":0.1695211086998365,"targetScene":"atrium"}],"POI":[]}')},function(e){e.exports=JSON.parse('{"texture":"18-1 living labDVIC.jpg","sceneAzimuth":-3.15620192675667,"arrows":[{"arrowAzimuth":0.11615983497745042,"targetScene":"foodtech-lab"}],"POI":[{"caption":"Project: the Living Lab","type":"iframe","targetUrl":"https://dvic.devinci.fr/projects/living-lab","position":{"x":1916.9850196093864,"y":42.31926817727853,"z":-711.9466059663051},"enabled":true}]}')},function(e){e.exports=JSON.parse('{"texture":"16 thesard.jpg","sceneAzimuth":-1.4802282080357243,"arrows":[{"arrowAzimuth":-0.28331211532144596,"targetScene":"soft-lab-entrance"},{"arrowAzimuth":3.1057664636512894,"targetScene":"foodtech-lab"},{"arrowAzimuth":-1.745159909567439,"targetScene":"classroom-entrance"}],"POI":[{"caption":"Thomas Raynal","type":"iframe","targetUrl":"https://dvic.devinci.fr/imported/members/thomas-jean-yvon_raynal","position":{"x":1112.6804210513371,"y":-6.108250864280253,"z":1717.2372836062464},"enabled":true},{"caption":"Staff: Yliess Hati","type":"iframe","targetUrl":"https://dvic.devinci.fr/member/yliess-hati","position":{"x":-698.8623917710129,"y":68.50417414249588,"z":1920.0949764959603},"enabled":true},{"caption":"Vincent Thévenin","type":"iframe","targetUrl":"https://dvic.devinci.fr/imported/members/vincent_thevenin","position":{"x":656.5582126907776,"y":360.4369916376384,"z":1903.2063630348878},"enabled":true},{"caption":"Staff: Grégor Jouet","type":"iframe","targetUrl":"https://dvic.devinci.fr/member/gregor-jouet","position":{"x":-1281.2296707138821,"y":24.07185585044441,"z":1593.8376628219066},"enabled":true},{"caption":"Teddy Leclercq","type":"iframe","targetUrl":"https://dvic.devinci.fr/imported/members/teddy_leclercq","position":{"x":437.7318491776915,"y":-14.845790176409881,"z":1997.9804116616394},"enabled":true},{"caption":"Devo: watch the trailer","type":"video","targetUrl":"https://www.youtube.com/embed/f_YYbbMXiM8","position":{"x":801.7953489160654,"y":-1105.2569714514225,"z":1523.1627571199692},"enabled":true}]}')},function(e){e.exports=JSON.parse('{"texture":"13-1 softlab.jpg","sceneAzimuth":-1.4170807582189369,"arrows":[{"arrowAzimuth":-0.2902452495690493,"targetScene":"soft-lab-corner"},{"arrowAzimuth":-3.024501590810462,"targetScene":"soft-lab-entrance"}],"POI":[{"caption":"Valentin Martinez","type":"iframe","targetUrl":"https://dvic.devinci.fr/imported/members/valentin_martinezmissir","position":{"x":477.8552606660568,"y":-205.50100021665955,"z":1977.9155661782936},"enabled":true},{"caption":"Staff: Zacharie Guillaume","type":"iframe","targetUrl":"https://dvic.devinci.fr/member/zacharie-guillaume","position":{"x":1035.2497143375044,"y":191.1841970684396,"z":1754.7871451359727},"enabled":true},{"caption":"How to: Epoxy Casting","type":"iframe","targetUrl":"https://dvic.devinci.fr/projects/resin-casting-process","position":{"x":46.76229373960744,"y":-654.0808324951066,"z":1936.2790429418312},"enabled":true}]}')},function(e){e.exports=JSON.parse('{"texture":"13-2 atelier couture.jpg","sceneAzimuth":4.685011493702369,"arrows":[{"arrowAzimuth":-1.522840430389089,"targetScene":"soft-lab-corner"},{"arrowAzimuth":3.127123056240673,"targetScene":"soft-lab"}],"POI":[]}')},function(e){e.exports=JSON.parse('{"texture":"15 entree classe DVIC.jpg","sceneAzimuth":-1.4959982762765955,"arrows":[{"arrowAzimuth":-0.18959601653665814,"targetScene":"soft-lab"},{"arrowAzimuth":2.6225336354691144,"targetScene":"phd-desks"}],"POI":[]}')},function(e){e.exports=JSON.parse('{"texture":"spheremap_filename.jpg","sceneAzimuth":0,"arrows":[{"arrowAzimuth":0,"targetScene":"elevators"},{"arrowAzimuth":2,"targetScene":"hallway"}],"POI":[{"caption":"short label for the POI","type":"iframe","targetUrl":"https://dvic.devinci.fr/projects/living-lab","position":{"x":2048.985019609386,"y":0,"z":0},"enabled":true},{"caption":"this will appear on hover","type":"panel","panelContent":{"title":"my title","description":["first paragraph","second paragraph, a wee tad longer"]},"position":{"x":2048,"y":0,"z":0},"enabled":true}]}')},function(e){e.exports=JSON.parse('{"texture":"03 clement.jpg","sceneAzimuth":-1.570647179669562,"arrows":[{"arrowAzimuth":2.1856558940853996,"targetScene":"classroom-entrance"},{"arrowAzimuth":-3.0352618030564034,"targetScene":"hallway"},{"arrowAzimuth":0.20386929801947873,"targetScene":"atrium-downstairs"}],"POI":[{"caption":"Welcome panel","type":"panel","panelContent":{"title":"Welcome !","description":["\\n          \\n          The De Vinci Innovation Center is the trans-disciplinary and innovative hub of the Pôle Léonard de Vinci. \\n        \\n        ","\\n          \\n          Our methods are based on radical learning, anti-disciplinarity and must-know fundamentals like tellingstory.\\n        "]},"position":{"x":-2013.2963644363201,"y":345.2664236510212,"z":90.06950158632078},"enabled":true},{"caption":"Qstarter: Graph-it","type":"iframe","targetUrl":"https://dvic.devinci.fr/quickstarter/graph-it","position":{"x":-1612.672060962957,"y":-339.928217582155,"z":1213.1606754961254},"enabled":true},{"caption":"Qstarter: Eclipse","type":"iframe","targetUrl":"https://dvic.devinci.fr/projects/eclipse","position":{"x":-1246.4453054885278,"y":-469.4267946412451,"z":1550.4551560707494},"enabled":true},{"caption":"Project : Skin Interface","type":"iframe","targetUrl":"https://dvic.devinci.fr/research/humanlike-skin","position":{"x":-125.33599573256384,"y":-648.9446031365608,"z":1934.3678355510262},"enabled":true},{"caption":"Project : Second Self","type":"iframe","targetUrl":"https://dvic.devinci.fr/projects/augmented-mirror","position":{"x":-844.666976074172,"y":81.59184996242259,"z":1859.2907618600395},"enabled":true},{"caption":"Staff: Clment Duhart","type":"iframe","targetUrl":"https://dvic.devinci.fr/member/clement-duhart","position":{"x":1446.3145753345962,"y":472.8566374168428,"z":1365.5656988384173},"enabled":true}]}')},function(e,t,n){var content=n(331);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(94).default)("02f2aafe",content,!0,{sourceMap:!1})},,,,,function(e,t,n){var map={"./atrium":263,"./atrium-downstairs":264,"./atrium-downstairs.json":264,"./atrium.json":263,"./classroom-entrance":265,"./classroom-entrance.json":265,"./elevators":266,"./elevators.json":266,"./foodtech-lab":267,"./foodtech-lab.json":267,"./hallway":268,"./hallway.json":268,"./living-lab":269,"./living-lab.json":269,"./phd-desks":270,"./phd-desks.json":270,"./softlab":271,"./softlab-corner":272,"./softlab-corner.json":272,"./softlab-entrance":273,"./softlab-entrance.json":273,"./softlab.json":271,"./template":274,"./template.json":274,"./wrong-atrium":275,"./wrong-atrium.json":275};function r(e){var t=o(e);return n(t)}function o(e){if(!n.o(map,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return map[e]}r.keys=function(){return Object.keys(map)},r.resolve=o,e.exports=r,r.id=281},,function(e,t){var n=Math.floor,r=function(e,t){var l=e.length,h=n(l/2);return l<8?o(e,t):c(r(e.slice(0,h),t),r(e.slice(h),t),t)},o=function(e,t){for(var element,n,r=e.length,i=1;i<r;){for(n=i,element=e[i];n&&t(e[n-1],element)>0;)e[n]=e[--n];n!==i++&&(e[n]=element)}return e},c=function(e,t,n){for(var r=e.length,o=t.length,c=0,l=0,h=[];c<r||l<o;)c<r&&l<o?h.push(n(e[c],t[l])<=0?e[c++]:t[l++]):h.push(c<r?e[c++]:t[l++]);return h};e.exports=r},function(e,t,n){var r=n(49).match(/firefox\/(\d+)/i);e.exports=!!r&&+r[1]},function(e,t,n){var r=n(49);e.exports=/MSIE|Trident/.test(r)},function(e,t,n){var r=n(49).match(/AppleWebKit\/(\d+)\./);e.exports=!!r&&+r[1]},,,,function(e,t,n){e.exports=n.p+"img/iframe.ceaad6d.png"},function(e,t,n){e.exports=n.p+"img/video.57e7bde.png"},function(e,t,n){e.exports=n.p+"img/tab.c27762a.png"},function(e,t,n){e.exports=n.p+"img/panel.46dc73f.png"},function(e,t,n){e.exports=n.p+"img/compass.6622195.png"},function(e,t,n){e.exports=n.p+"img/01_ascenseur.0c4eb47.jpg"},function(e,t,n){e.exports=n.p+"img/02_entree.6a37867.jpg"},function(e,t,n){e.exports=n.p+"img/03 clement.6a4179e.jpg"},function(e,t,n){e.exports=n.p+"img/04 couloir sport.bd2cf41.jpg"},function(e,t,n){e.exports=n.p+"img/05 porte studio.08c5c3d.jpg"},function(e,t,n){e.exports=n.p+"img/06 studio.c8095bb.jpg"},function(e,t,n){e.exports=n.p+"img/07 porte bio tech lab.dfddbff.jpg"},function(e,t,n){e.exports=n.p+"img/08 entree bio tech lab.e2f869f.jpg"},function(e,t,n){e.exports=n.p+"img/09 bio tech lab.2d6517c.jpg"},function(e,t,n){e.exports=n.p+"img/10 lounge staff.7649946.jpg"},function(e,t,n){e.exports=n.p+"img/11 porte 4d space.eddf751.jpg"},function(e,t,n){e.exports=n.p+"img/12-1 4D space Gershon.490b144.jpg"},function(e,t,n){e.exports=n.p+"img/13-1 softlab.1f329c9.jpg"},function(e,t,n){e.exports=n.p+"img/13-2 atelier couture.c52903d.jpg"},function(e,t,n){e.exports=n.p+"img/15 entree classe DVIC.0e2719f.jpg"},function(e,t,n){e.exports=n.p+"img/16 thesard.9c5a2a2.jpg"},function(e,t,n){e.exports=n.p+"img/17-2 entree living lab.bc119f7.jpg"},function(e,t,n){e.exports=n.p+"img/18-1 living labDVIC.2102ac7.jpg"},function(e,t,n){e.exports=n.p+"img/19 sortie DVIC_.8644d02.jpg"},function(e,t,n){e.exports=n.p+"img/20 escalier 5eme etage.e397f80.jpg"},function(e,t,n){e.exports=n.p+"img/21 LC de face.bcf93bc.jpg"},function(e,t,n){e.exports=n.p+"img/22 entree expo LC.dc032c7.jpg"},function(e,t,n){e.exports=n.p+"img/23_cokpit_fablab.9d6e63c.jpg"},function(e,t,n){e.exports=n.p+"img/24_entree fab lab.2b58dd4.jpg"},function(e,t,n){e.exports=n.p+"img/25_imprimante 3D.8dc005d.jpg"},function(e,t,n){e.exports=n.p+"img/26_centre fab lab_.705bb64.jpg"},function(e,t,n){e.exports=n.p+"img/27_robot inmoov.3d91c5c.jpg"},function(e,t,n){e.exports=n.p+"img/28_zone drone.857d8f7.jpg"},function(e,t,n){e.exports=n.p+"img/29 zone drone_2.8f7d595.jpg"},function(e,t,n){e.exports=n.p+"img/30 zone ordi.cb3524e.jpg"},function(e,t,n){e.exports=n.p+"img/31 LC droite escalier.06cea88.jpg"},function(e,t,n){e.exports=n.p+"img/32 entree creative space.f96ced7.jpg"},function(e,t,n){e.exports=n.p+"img/33 creative space.03b4281.jpg"},function(e,t,n){var map={"./01_ascenseur.jpg":230,"./02_entree.jpg":231,"./03 clement.jpg":232,"./04 couloir sport.jpg":233,"./05 porte studio.jpg":234,"./06 studio.jpg":235,"./07 porte bio tech lab.jpg":236,"./08 entree bio tech lab.jpg":237,"./09 bio tech lab.jpg":238,"./10 lounge staff.jpg":239,"./11 porte 4d space.jpg":240,"./12-1 4D space Gershon.jpg":241,"./13-1 softlab.jpg":242,"./13-2 atelier couture.jpg":243,"./15 entree classe DVIC.jpg":244,"./16 thesard.jpg":245,"./17-2 entree living lab.jpg":246,"./18-1 living labDVIC.jpg":247,"./19 sortie DVIC_.jpg":248,"./20 escalier 5eme etage.jpg":249,"./21 LC de face.jpg":250,"./22 entree expo LC.jpg":251,"./23_cokpit_fablab.jpg":252,"./24_entree fab lab.jpg":253,"./25_imprimante 3D.jpg":254,"./26_centre fab lab_.jpg":255,"./27_robot inmoov.jpg":256,"./28_zone drone.jpg":257,"./29 zone drone_2.jpg":258,"./30 zone ordi.jpg":259,"./31 LC droite escalier.jpg":260,"./32 entree creative space.jpg":261,"./33 creative space.jpg":262};function r(e){var t=o(e);return n(t)}function o(e){if(!n.o(map,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return map[e]}r.keys=function(){return Object.keys(map)},r.resolve=o,e.exports=r,r.id=328},function(e,t,n){e.exports=n.p+"img/arrow.12628f5.png"},function(e,t,n){"use strict";n(276)},function(e,t,n){var r=n(93)(!1);r.push([e.i,"#holder[data-v-07e57198],canvas[data-v-07e57198]{width:100%;height:100%}",""]),e.exports=r},function(e,t,n){"use strict";n.r(t);n(173);var r=n(8),o=n(63),c=n(64),l=n(126),h=n(127),d=n(97),f=n(23),m=(n(50),n(51),n(39),n(32),n(38),n(226),n(95),n(40),n(65),n(227),n(53),n(41),n(66),n(98)),v=n(225),S=n(280),w=n(282),y=180/Math.PI,j=Math.PI/180,x=n(290),I=n(291),P=n(292),O=n(293),C=n(294),k=function(){function e(canvas){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];Object(o.a)(this,e),this.settings={sphereDiameter:4096,camRadius:10,fov:1,hotspotSize:1.5,brightness:10,sensitivity:1.5,inertia:.7,arrowGUISize:350},this.canvas=canvas,this.engine=new v.Engine(canvas,!0),this.engine.setHardwareScalingLevel(1/window.devicePixelRatio),this.scene=new v.Scene(this.engine),this.camera=new v.ArcRotateCamera("camera",0,1.57,this.settings.camRadius,new v.Vector3(0,0,0),this.scene),this.camera.upperRadiusLimit=this.camera.lowerRadiusLimit=this.settings.camRadius,this.camera.panningSensibility=999999,this.camera.fov=this.settings.fov,this.camera.inertia=this.settings.inertia,this.camera.angularSensibilityX=this.camera.angularSensibilityY/=-this.settings.sensitivity,this.camera.attachControl(this.canvas),this.setFOVZoom(),this.light=new v.HemisphericLight("light",new v.Vector3(0,-1,0),this.scene),this.light.intensity=50,this.scene.clearColor=new v.Color4(.25,.2,.25,1),this.iframeSM=new v.SpriteManager("iframeSM",x,32,512,this.scene),this.videoSM=new v.SpriteManager("videoSM",I,32,512,this.scene),this.newtabSM=new v.SpriteManager("newtabSM",P,32,512,this.scene),this.panelSM=new v.SpriteManager("panelSM",O,32,512,this.scene);var r=[this.iframeSM,this.videoSM,this.newtabSM,this.panelSM];r.forEach((function(e){e.renderingGroupId=1,e.isPickable=!0}));var c=v.MeshBuilder.CreatePlane("arrowGUI",{width:10,height:10},this.scene);if(c.rotation.x=Math.PI/2,c.rotation.y=-Math.PI/2,c.position.y=-4,c.renderingGroupId=2,this.arrowGUI=S.AdvancedDynamicTexture.CreateForMesh(c),this.fsGUI=S.AdvancedDynamicTexture.CreateFullscreenUI("fullscreenGUI"),t){c.showBoundingBox=!0;var l=new S.Image("compassImg",C);l.alpha=.3,l.rotation=1.5*Math.PI,this.arrowGUI.addControl(l)}this.AM=new v.AssetsManager(this.scene),t&&n&&this.scene.debugLayer.show()}return Object(c.a)(e,[{key:"setFOVZoom",value:function(){var e=this;this.scene.onPointerObservable.add((function(t){if(t.type===v.PointerEventTypes.POINTERWHEEL){var n=t.event,r=e.camera.fov;n.deltaY<0&&e.camera.fov>.75?w.a.to(e.camera,{fov:r-.07,duration:.25}):n.deltaY>0&&e.camera.fov<1.3&&w.a.to(e.camera,{fov:r+.07,duration:.25})}}))}},{key:"handleImmersivePicking",value:function(e,t,n){var r=this;this.scene.onPointerPick=function(o,c){var l=r.scene.pickSprite(r.scene.pointerX,r.scene.pointerY);l&&l.hit&&l.pickedSprite?t&&0===o.button&&t(l.pickedSprite):c&&c.pickedMesh&&e&&0===o.button&&e(c.pickedMesh),(2===o.button||!l||!l.hit||c&&c.pickedMesh)&&n&&n()}}},{key:"launchRay",value:function(){return this.scene.createPickingRay(this.scene.pointerX,this.scene.pointerY,v.Matrix.Identity(),null)}},{key:"azimuthFromPosition",value:function(button){return(Math.asin(button.topInPixels/350)+Math.PI/2)*(button.leftInPixels>0?-1:1)}},{key:"worldToScreenCoordinates",value:function(e){var t=this.scene.cameras[0],n=v.Vector3.Project(e,v.Matrix.Identity(),this.scene.getTransformMatrix(),t.viewport.toGlobal(this.canvas.clientWidth,this.canvas.clientHeight));return new v.Vector2(n.x,n.y)}},{key:"angleBetweenTwoVectors",value:function(e,t){var n=v.Vector3.Normalize(e),r=v.Vector3.Normalize(t),o=v.Vector3.Dot(r,n),c=Math.acos(o);return this.radiansToDegrees(c)}},{key:"generate3DPosition",value:function(e,t){var n=y*(e.x/t),r=y*(2*Math.atan(Math.exp(e.y/t))-Math.PI/2),o=new v.Vector3(0,0,t),c=r*j,l=(270-n)*j,h=v.Vector3.Zero(),d=v.Quaternion.FromEulerAngles(c,l,0);return o.rotateByQuaternionToRef(d,h)}},{key:"radiansToDegrees",value:function(e){return e*(180/Math.PI)}},{key:"degreesToRadians",value:function(e){return e/(180/Math.PI)}}]),e}(),M=(n(17),n(33),n(34),n(345),n(175),n(130),n(69),n(346),n(347),n(348),n(52),n(42),n(224)),z=function(){function e(t,n,r,map,c,l,h){Object(o.a)(this,e),this.pointerIsDown=!1,this.BC=t,this.currentScene=n,this.currentSceneSlug=r,this.loadedPOIs=c,this.loadedArrows=l,this.sphereTextures=h,this.currentSceneSlug=r,this.map=map,this.editedSceneJson=JSON.parse(JSON.stringify(this.currentScene)),this.appendDownloadButton(),this.initEditingListener(),this.updateSelectionPermaLog()}return Object(c.a)(e,[{key:"appendDownloadButton",value:function(){var e=this,t=document.createElement("div");t.id="btnHolder";var n=document.createElement("p");n.id="jsonDownloadBtn",n.title="download the scene with updated positions",n.innerHTML="<strong>JSON&nbsp;download</strong>&nbsp;|&nbsp;".concat(this.map[this.currentSceneSlug].file),this.BC.canvas.parentElement.append(t),t.append(n),this.downloadBtn=n;n.onclick=function(){!function(){Object.values(e.loadedPOIs[e.currentSceneSlug]).forEach((function(t,i){e.editedSceneJson.POI[i].position={x:t.position.x,y:t.position.y,z:t.position.z},e.editedSceneJson.POI[i].caption=t.POI.content.caption})),Object.values(e.loadedArrows[e.currentSceneSlug]).forEach((function(t,i){var n=(Math.asin(t.topInPixels/350)+Math.PI/2)*(t.leftInPixels>0?1:-1);e.editedSceneJson.arrows[i].arrowAzimuth=n})),e.editedSceneJson.sceneAzimuth=e.sphereTextures[e.currentSceneSlug].standard.uOffset*Math.PI*2;var t=new Blob([JSON.stringify(e.editedSceneJson)],{type:"text/plain"}),a=document.createElement("a");a.download=e.map[e.currentSceneSlug].file,a.href=window.URL.createObjectURL(t),a.dataset.downloadurl=["text/json",a.download,a.href].join(":"),a.click()}()}}},{key:"handleSceneChange",value:function(e,t){this.currentScene=e,this.currentSceneSlug=t,this.editedSceneJson=Object.assign({},this.currentScene),this.currentlyEditing=null,this.downloadBtn.innerHTML="<strong>JSON download</strong> | ".concat(this.map[this.currentSceneSlug].file)}},{key:"initEditingListener",value:function(){var e=this;this.BC.scene.onPointerDown=function(t,n){2===t.button&&(e.pointerIsDown=!0);var r=e.BC.scene.pickSprite(e.BC.scene.pointerX,e.BC.scene.pointerY);if(r&&r.hit&&r.pickedSprite){var o=r.pickedSprite;e.currentlyEditing={type:"poi",target:o},2===t.button&&e.BC.camera.detachControl()}else n&&n.pickedMesh&&n.pickedMesh.name.includes("sphere")&&2===t.button&&(e.currentlyEditing={type:"sphere",target:n.pickedMesh},e.setSphereDragReference());e.updateSelectionPermaLog()},this.BC.scene.onPointerUp=function(t){2===t.button&&(e.pointerIsDown=!1,e.BC.camera.attachControl(e.BC.canvas),e.updateSelectionPermaLog())},this.BC.scene.onPointerMove=function(t,n,r){if(e.currentlyEditing&&e.pointerIsDown)switch(e.currentlyEditing.type){case"poi":e.dragSpriteAlongSphere();break;case"arrow":e.dragArrowAlongAzimuth();break;case"sphere":e.dragSphereAlongAzimuth()}else e.BC.camera.attachControl(e.BC.canvas)}}},{key:"updateSelectionPermaLog",value:function(){var e=this,t=document.getElementById("selectionLog"),n="";if(this.currentlyEditing)if("poi"===this.currentlyEditing.type){var r=this.currentlyEditing.target;n+="<p>Last selection : POI (point of interest)</p>",n+='<p class="devEntry"><span>TYPE</span><span><i>'.concat(r.POI.content.type,"</i></span></p>"),n+='<p class="devEntry"><span>CAPTION</span><span><i data-entry="caption" contentEditable>'.concat(r.POI.content.caption,"</i></span></p>"),["tab","video","iframe"].includes(r.POI.content.type)&&(n+='<p class="devEntry"><span>URL</span> <span><i data-entry="url" contentEditable>'.concat(r.POI.content.targetUrl,"</i></span></p>")),n+='<p class="devEntry"><span>POSITION</span> <span><i>x : '.concat(Math.trunc(r.position.x)," | y : ").concat(Math.trunc(r.position.y)," | z : ").concat(Math.trunc(r.position.z),"</i></span></p>")}else if("arrow"===this.currentlyEditing.type){var o=this.currentlyEditing.target,c=0;c=o.leftInPixels<0&&o.topInPixels>0?Math.asin(o.leftInPixels/350)+Math.PI:o.topInPixels<=0?Math.acos(o.leftInPixels/350)-Math.PI/2:Math.asin(-o.topInPixels/350)-Math.PI/2,n+="<p>Last selection : Navigation Arrows</p>",n+='<p class="devEntry"><span>ARROW AZIMUTH</span>  <span><i>'.concat(c.toFixed(3)," rad | ").concat(Math.trunc(this.BC.radiansToDegrees(c))," degree</i></span></p>"),n+='<p class="devEntry"><span>DESTINATION</span><span><select data-entry="destination">',Object.keys(this.map).forEach((function(t){n+="<option ".concat(e.currentlyEditing.data===t?"selected":"",' value="').concat(t,'"><i>').concat(t,"</i></span></option>")})),n+="<span><select>"}else if("sphere"===this.currentlyEditing.type){var l=this.sphereTextures[this.currentSceneSlug].standard.uOffset*(2*Math.PI);this.pointerIsDown&&(n+='<p class="devWarning"><strong>Beware when spinning the spheremap, it can offset all other content.</strong></p>'),n+="<p>Last selection : Scene Spheremap</p>",n+='<p class="devEntry"><span>SCENE AZIMUTH</span><span><i>'.concat(l.toFixed(3)," rad | ").concat(Math.trunc(this.BC.radiansToDegrees(l))," degree</i></span></p>")}t.innerHTML=n,this.listenToLogEdition()}},{key:"listenToLogEdition",value:function(){var e=this,t=document.querySelector('i[data-entry="caption"]');t&&t.addEventListener("focusout",(function(){var n=e.currentlyEditing.target;n.POI.content.caption=t.innerHTML.replace("<br>",""),n.POI.label.getChildByName("".concat(n.name,"-label")).text=t.innerHTML.replace("<br>","")}));var n=document.querySelector('i[data-entry="url"]');n&&n.addEventListener("focusout",(function(){e.currentlyEditing.target.POI.content.targetUrl=n.innerHTML.replace("<br>","")}));var r=document.querySelector('select[data-entry="destination"]');r&&(r.onchange=function(t){var n=t.target.options[t.target.selectedIndex].value;e.currentlyEditing.data=n;var r=e.currentlyEditing.target;r.onPointerDownObservable.clear(),r.onPointerDownObservable.add((function(e){0===e.buttonIndex&&M.a.$emit("change-scene",n)})),e.enableArrowEditing(r,n);var o=parseInt(r.name.replace("".concat(e.currentSceneSlug,"-arrow-"),""));e.editedSceneJson.arrows[o].targetScene=n,e.updateSelectionPermaLog()});var o=document.querySelector("#panelHolder");o&&o.addEventListener("focusout",(function(){var t=e.currentlyEditing.target,n=parseInt(t.name.replace("".concat(e.currentSceneSlug,"-POI-"),""));t.POI.content.panelContent=e.editedSceneJson.POI[n].panelContent}))}},{key:"enableArrowEditing",value:function(e,t){var n=this;e.onPointerDownObservable.add((function(r){2===r.buttonIndex&&(n.currentlyEditing={type:"arrow",target:e,data:t})}))}},{key:"dragSpriteAlongSphere",value:function(){var e=this.currentlyEditing.target,t=this.BC.scene.pickWithRay(this.BC.launchRay(),(function(e){return e.name.includes("sphere")})).pickedPoint;e.position=t,e.POI.grain.position=t,this.updateSelectionPermaLog()}},{key:"dragArrowAlongAzimuth",value:function(){var e=this.currentlyEditing.target,t=this.BC.scene.pickWithRay(this.BC.launchRay()).pickedPoint,n=this.BC.degreesToRadians(this.BC.angleBetweenTwoVectors(new v.Vector3(-1,0,0),new v.Vector3(t.x,0,t.z))*(t.z>0?1:-1));e.rotation=n,e.left=Math.cos(n-Math.PI/2)*this.BC.settings.arrowGUISize,e.top=Math.sin(n-Math.PI/2)*this.BC.settings.arrowGUISize,this.updateSelectionPermaLog()}},{key:"setSphereDragReference",value:function(){var e=this.BC.scene.pickWithRay(this.BC.launchRay()).pickedPoint;this.sphereDragReference={initialRotation:this.sphereTextures[this.currentSceneSlug].standard.uOffset*(2*Math.PI),pointerDownAzimuth:this.BC.degreesToRadians(this.BC.angleBetweenTwoVectors(new v.Vector3(-1,0,0),new v.Vector3(e.x,0,e.z))*(e.z>0?1:-1))}}},{key:"dragSphereAlongAzimuth",value:function(){var e=this.BC.scene.createPickingRay(this.BC.scene.pointerX,this.BC.scene.pointerY,v.Matrix.Identity(),null),t=this.BC.scene.pickWithRay(e).pickedPoint,n=this.BC.degreesToRadians(this.BC.angleBetweenTwoVectors(new v.Vector3(-1,0,0),new v.Vector3(t.x,0,t.z))*(t.z>0?1:-1)),r=this.sphereDragReference.initialRotation+(this.sphereDragReference.pointerDownAzimuth-n);this.sphereTextures[this.currentSceneSlug].lowres&&(this.sphereTextures[this.currentSceneSlug].lowres.uOffset=r/(2*Math.PI)),this.sphereTextures[this.currentSceneSlug].standard&&(this.sphereTextures[this.currentSceneSlug].standard.uOffset=r/(2*Math.PI)),this.updateSelectionPermaLog()}},{key:"handlePanelEdition",value:function(e){var t=Object.values(this.loadedPOIs[this.currentSceneSlug]).find((function(s){return s.POI.opened})),n=parseInt(t.name.replace("".concat(this.currentSceneSlug,"-POI-"),"")),r=Array.from(e.target.children),o={title:r.find((function(e){return"H2"===e.tagName})).innerHTML,description:r.filter((function(e){return"P"===e.tagName})).map((function(e){return e.innerHTML}))};this.editedSceneJson.POI[n].panelContent=o}},{key:"handlePermalogEdition",value:function(e){if("poi"===this.currentlyEditing.type){var t=this.currentlyEditing.target,n=parseInt(t.name.replace("".concat(this.currentSceneSlug,"-POI-"),""));if("url"===e.target.dataset.entry)this.editedSceneJson.POI[n].targetUrl=e.target.innerHTML}}}]),e}();function A(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Object(d.a)(e);if(t){var o=Object(d.a)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Object(h.a)(this,n)}}var T=function(e,t,n,desc){var r,o=arguments.length,c=o<3?t:null===desc?desc=Object.getOwnPropertyDescriptor(t,n):desc;if("object"===("undefined"==typeof Reflect?"undefined":Object(f.a)(Reflect))&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,t,n,desc);else for(var i=e.length-1;i>=0;i--)(r=e[i])&&(c=(o<3?r(c):o>3?r(t,n,c):r(t,n))||c);return o>3&&c&&Object.defineProperty(t,n,c),c},E=function(e){Object(l.a)(f,e);var t,h,d=A(f);function f(){var e;return Object(o.a)(this,f),(e=d.apply(this,arguments)).sphereTextures={},e.loadedPOIs={},e.loadedArrows={},e}return Object(c.a)(f,[{key:"mounted",value:function(){var e=this,canvas=this.$refs.renderCanvas,t=void 0!==this.$route.query.inspector&&"show"===this.$route.query.inspector;this.BC=new k(canvas,this.devMode,t),this.devMode&&(this.SE=new z(this.BC,this.currentScene,this.currentSceneSlug,this.map,this.loadedPOIs,this.loadedArrows,this.sphereTextures),M.a.$on("edited-panel",(function(t){e.SE.handlePanelEdition(t)})),M.a.$on("edited-log",(function(t){e.SE.handlePermalogEdition(t)}))),Object.keys(this.map).forEach((function(t){e.sphereTextures[t]={lowres:void 0,standard:void 0},e.loadedPOIs[t]=[],e.loadedArrows[t]=[]})),new ResizeObserver((function(){e.BC.engine.resize()})).observe(this.$refs.renderCanvas),this.initScene()}},{key:"initScene",value:function(){var e=this,t=this.BC.settings;this.displaySphere=v.MeshBuilder.CreateSphere("sphere-1",{diameter:t.sphereDiameter},this.BC.scene),this.offscreenSphere=v.MeshBuilder.CreateSphere("sphere-2",{diameter:t.sphereDiameter},this.BC.scene);var r=new v.StandardMaterial("sphereMat-1",this.BC.scene),o=new v.StandardMaterial("sphereMat-2",this.BC.scene);r.sideOrientation=v.Material.ClockWiseSideOrientation,o.sideOrientation=v.Material.ClockWiseSideOrientation,o.alpha=0,this.displaySphere.material=r,this.offscreenSphere.material=o;var path=n(229)("./".concat(this.currentScene.texture));this.BC.AM.addTextureTask("standard-".concat(this.currentSceneSlug),path).onSuccess=function(t){var n=t.texture;n.vScale*=-1,n.uOffset=e.currentScene.sceneAzimuth/(2*Math.PI),e.sphereTextures[e.currentSceneSlug].standard=n,e.upgradeTexture()},this.BC.AM.load(),this.loadNeighbourScenes(),this.loadScenePOI(this.currentSceneSlug),this.BC.handleImmersivePicking(void 0,this.setSpriteClickdown,void 0),this.loadSceneArrows(this.currentSceneSlug),this.enableKeyboardInputs(),this.BC.engine.runRenderLoop((function(){e.BC.scene.render()}))}},{key:"handleSceneChange",value:(h=Object(r.a)(regeneratorRuntime.mark((function e(){var t,n=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(M.a.$emit("close-iframe"),M.a.$emit("close-panel"),t=this.displaySphere,!this.sphereTextures[this.currentSceneSlug].standard){e.next=8;break}this.offscreenSphere.material.diffuseTexture=this.sphereTextures[this.currentSceneSlug].standard,e.next=19;break;case 8:if(!this.sphereTextures[this.currentSceneSlug].standard){e.next=13;break}this.offscreenSphere.material.diffuseTexture=this.sphereTextures[this.currentSceneSlug].lowres,e.next=19;break;case 13:return this.BC.engine.displayLoadingUI(),this.loadScenePOI(this.currentSceneSlug),this.loadSceneArrows(this.currentSceneSlug),e.next=18,this.createTexture(this.currentSceneSlug,this.currentScene.texture,!0);case 18:this.BC.engine.hideLoadingUI();case 19:w.a.to(this.offscreenSphere.material,{duration:.5,alpha:1}),w.a.to(this.displaySphere.material,{duration:.5,alpha:0}),this.displaySphere=this.offscreenSphere,this.offscreenSphere=t,Object.keys(this.scenes).forEach((function(e){n.loadedPOIs[e]&&n.loadedPOIs[e].forEach((function(t){e!==n.currentSceneSlug?(t.isVisible=!1,t.POI.label.isVisible=!1,t.cellIndex=0,t.isPickable=!1):(t.isVisible=!0,t.POI.label.isVisible=!0,t.isPickable=!0)}))})),Object.keys(this.scenes).forEach((function(e){n.loadedArrows[e]&&Object.values(n.loadedArrows[e]).forEach((function(t){e===n.currentSceneSlug?t.isVisible=!0:t.isVisible=!1}))})),this.devMode&&this.SE.handleSceneChange(this.currentScene,this.currentSceneSlug),this.loadNeighbourScenes();case 27:case"end":return e.stop()}}),e,this)}))),function(){return h.apply(this,arguments)})},{key:"loadNeighbourScenes",value:(t=Object(r.a)(regeneratorRuntime.mark((function e(){var t,n=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.currentScene.arrows.map((function(e){return e.targetScene})),e.next=3,t.forEach((function(e){n.createTexture(e,n.scenes[e].texture),n.loadScenePOI(e),n.loadSceneArrows(e)}));case 3:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"upgradeTexture",value:function(){if(this.sphereTextures[this.currentSceneSlug].standard)this.displaySphere.material.hasTexture(this.sphereTextures[this.currentSceneSlug].standard)||(this.displaySphere.material.diffuseTexture=this.sphereTextures[this.currentSceneSlug].standard);else if(this.sphereTextures[this.currentSceneSlug].lowres){if(!this.displaySphere.material.hasTexture(this.sphereTextures[this.currentSceneSlug].lowres))this.displaySphere.material.diffuseTexture=this.sphereTextures[this.currentSceneSlug].lowres}}},{key:"createTexture",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=n(281)("./".concat(this.map[e].file));if(!this.sphereTextures[e].lowres){var c=n(328)("./".concat(t)),l=new v.Texture(c,this.BC.scene);if(l.vScale*=-1,l.uOffset=o.sceneAzimuth/(2*Math.PI),this.sphereTextures[e].lowres=l,r){var h=this.offscreenSphere.material;h.diffuseTexture=l}else this.upgradeTexture()}if(!this.sphereTextures[e].standard){var path=n(229)("./".concat(t)),d=new v.Texture(path,this.BC.scene);if(d.vScale*=-1,d.uOffset=o.sceneAzimuth/(2*Math.PI),this.sphereTextures[e].standard=d,r){var f=this.offscreenSphere.material;f.diffuseTexture=d}else this.upgradeTexture()}}},{key:"loadScenePOI",value:function(e){var t,n=this;this.scenes[e].POI.forEach((function(r,i){if(!n.loadedPOIs[e][i]){switch(r.type){case"iframe":t=new v.Sprite("".concat(e,"-POI-").concat(i),n.BC.iframeSM);break;case"tab":t=new v.Sprite("".concat(e,"-POI-").concat(i),n.BC.newtabSM);break;case"video":t=new v.Sprite("".concat(e,"-POI-").concat(i),n.BC.videoSM);break;case"panel":t=new v.Sprite("".concat(e,"-POI-").concat(i),n.BC.panelSM)}t.isPickable=e===n.currentSceneSlug,t.position=new v.Vector3(r.position.x,r.position.y,r.position.z),t.playAnimation(0,41,!0,28),t.actionManager=new v.ActionManager(n.BC.scene),e!==n.currentSceneSlug&&(t.isVisible=!1),t.width=240,t.height=240,t.POI=Object.assign({opened:!1,sceneSlug:n.currentSceneSlug,content:r},n.labelizeSprite(t,r.caption)),n.setSpriteHover(t),n.loadedPOIs[e][i]=t}}))}},{key:"labelizeSprite",value:function(e,caption){var t=v.MeshBuilder.CreateSphere("".concat(e.name,"-grain"),{diameter:.5},this.BC.scene);t.position=e.position,t.isVisible=!1;var n=new S.Rectangle("".concat(e.name,"-rectangle"));n.widthInPixels=250,n.heightInPixels=35,n.color="transparent",n.background="#1a1f21",n.alpha=0,this.BC.fsGUI.addControl(n);var label=new S.TextBlock("".concat(e.name,"-label"),caption);return label.color="white",n.addControl(label),n.linkWithMesh(t),n.linkOffsetYInPixels=-65,{label:n,grain:t}}},{key:"setSpriteHover",value:function(e){e.actionManager.registerAction(new v.ExecuteCodeAction(v.ActionManager.OnPointerOverTrigger,(function(){e.POI.opened||e.stopAnimation(),e.actionManager.hoverCursor="pointer",w.a.to(e.POI.label,{duration:.4,alpha:1})}))),e.actionManager.registerAction(new v.ExecuteCodeAction(v.ActionManager.OnPointerOutTrigger,(function(){e.POI.opened||e.playAnimation(0,41,!0,28),w.a.to(e.POI.label,{duration:.4,alpha:0})})))}},{key:"setSpriteClickdown",value:function(e){switch(w.a.to(e.POI.label,{duration:.4,alpha:0}),this.loadedPOIs[this.currentSceneSlug].forEach((function(s){s.name!==e.name&&(s.cellIndex=0,s.playAnimation(0,41,!0,28))})),e.POI.content.type){case"iframe":case"video":e.POI.opened?M.a.$emit("close-iframe"):(M.a.$emit("close-panel"),M.a.$emit("open-iframe",e.POI.content),e.POI.opened=!0,e.stopAnimation(),e.cellIndex=42),M.a.$on("close-iframe",(function(){e.POI.opened=!1,e.playAnimation(0,41,!0,28)}));break;case"tab":window.open(e.POI.content.targetUrl,"_blank");break;case"panel":e.POI.opened?M.a.$emit("close-panel"):(this.loadedPOIs[this.currentSceneSlug].forEach((function(e){e.POI.opened=!1,e.playAnimation(0,41,!0,28)})),M.a.$emit("open-panel",e.POI.content),e.POI.opened=!0,e.stopAnimation(),e.cellIndex=42,M.a.$emit("close-iframe")),M.a.$on("close-panel",(function(){e.POI.opened=!1,e.playAnimation(0,41,!0,28)}))}}},{key:"loadSceneArrows",value:function(e){var t=this,r=this.scenes[e].arrows,o=n(329);r.forEach((function(n,i){if(!t.loadedArrows[e][i]){var button=S.Button.CreateImageOnlyButton("".concat(e,"-arrow-").concat(i),o);button.width=.2,button.height=.2,button.color="transparent",button.alpha=.6,button.hoverCursor="pointer",button.rotation=n.arrowAzimuth,button.left=Math.cos(n.arrowAzimuth-Math.PI/2)*t.BC.settings.arrowGUISize,button.top=Math.sin(n.arrowAzimuth-Math.PI/2)*t.BC.settings.arrowGUISize,e!==t.currentSceneSlug&&(button.isVisible=!1),button.onPointerDownObservable.add((function(e){0===e.buttonIndex&&M.a.$emit("change-scene",n.targetScene)})),t.BC.arrowGUI.addControl(button),t.loadedArrows[e].push(button),t.devMode&&t.SE.enableArrowEditing(button,n.targetScene)}}))}},{key:"enableKeyboardInputs",value:function(){var e=this,t=this.BC.camera.inputs.attached.keyboard;t.angularSpeed*=-1,t.keysUp=t.keysDown=[],t.keysLeft.push(81),t.keysRight.push(68),this.BC.scene.onKeyboardObservable.add((function(t){t.type===v.KeyboardEventTypes.KEYDOWN&&(["ArrowUp","z"].includes(t.event.key)?e.moveForward():["ArrowDown","s"].includes(t.event.key)?e.moveBackwards():"Escape"===t.event.key&&(M.a.$emit("close-iframe"),M.a.$emit("close-panel")))}))}},{key:"moveForward",value:function(){var e=this,t=function(t){var n=e.BC.azimuthFromPosition(t)+Math.PI,r=e.BC.camera.alpha%(2*Math.PI);r<0&&(r=2*Math.PI-Math.abs(r%(2*Math.PI)));var o=Math.abs(r-n);return o>Math.PI&&(o=2*Math.PI-o),o};t(this.loadedArrows[this.currentSceneSlug][0]);var n=this.loadedArrows[this.currentSceneSlug].slice().sort((function(a,b){return t(b)-t(a)}))[0],r=parseInt(n.name.replace("".concat(this.currentSceneSlug,"-arrow-"),""));M.a.$emit("change-scene",this.currentScene.arrows[r].targetScene)}},{key:"moveBackwards",value:function(){var e=this,t=function(t){var n=e.BC.azimuthFromPosition(t)+Math.PI,r=e.BC.camera.alpha%(2*Math.PI);r<0&&(r=2*Math.PI-Math.abs(r%(2*Math.PI)));var o=Math.abs(r-n);return o>Math.PI&&(o=2*Math.PI-o),o};t(this.loadedArrows[this.currentSceneSlug][0]);var n=this.loadedArrows[this.currentSceneSlug].slice().sort((function(a,b){return t(a)-t(b)}))[0],r=parseInt(n.name.replace("".concat(this.currentSceneSlug,"-arrow-"),""));M.a.$emit("change-scene",this.currentScene.arrows[r].targetScene)}}]),f}(m.d);T([Object(m.c)({type:Object,required:!0})],E.prototype,"scenes",void 0),T([Object(m.c)({type:Object,required:!0})],E.prototype,"map",void 0),T([Object(m.c)({type:Object,required:!0})],E.prototype,"currentScene",void 0),T([Object(m.c)({type:String,required:!0})],E.prototype,"currentSceneSlug",void 0),T([Object(m.c)({type:Boolean,required:!0})],E.prototype,"devMode",void 0),T([Object(m.e)("currentScene")],E.prototype,"handleSceneChange",null);var B=E=T([m.a],E),_=(n(330),n(44)),component=Object(_.a)(B,(function(){var e=this.$createElement;return(this._self._c||e)("canvas",{ref:"renderCanvas",attrs:{id:"renderCanvas"}})}),[],!1,null,"07e57198",null);t.default=component.exports}])]);